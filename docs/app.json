[{"name":"app.R","content":"# This starter code was created by ChatGPT\n# The prompts I used to get this can be seen here: https://chatgpt.com/share/692fb3cb-1b30-800b-9cd7-fe0a2f375538\n\nrm(list = ls())\n\nlibrary(shiny)\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(shinylive)  # important\n\n# Define the Shiny UI\nui <- fluidPage(\n  tags$style(type=\"text/css\", \"body {margin:0; padding:0;}\"),\n  h2(\"Clickable Matrix Dashboard (ShinyLive)\"),\n  plotlyOutput(\"matrix\", height = \"50vh\"),\n  uiOutput(\"dashboard\")\n)\n\n# Server logic\nserver <- function(input, output, session) {\n  \n  # Matrix plot\n  output$matrix <- renderPlotly({\n    df <- expand.grid(x = 1:5, y = 1:5)\n    df$z <- rnorm(nrow(df))\n    ggplotly(\n      ggplot(df, aes(x, y, fill = z)) +\n        geom_tile() +\n        scale_y_reverse() +\n        coord_fixed(),\n      source = \"mat\"\n    )\n  })\n  \n  # Click event\n  observeEvent(event_data(\"plotly_click\", source = \"mat\"), {\n    click <- event_data(\"plotly_click\", source = \"mat\")\n    cx <- click$x\n    cy <- click$y\n    \n    output$dashboard <- renderUI({\n      tagList(\n        h3(sprintf(\"Dashboard for cell (%d, %d)\", cx, cy)),\n        fluidRow(\n          column(4, plotOutput(\"p1\")),\n          column(4, plotOutput(\"p2\")),\n          column(4, plotOutput(\"p3\"))\n        )\n      )\n    })\n    \n    output$p1 <- renderPlot({ plot(rnorm(100), main = sprintf(\"Plot 1 (%d,%d)\", cx, cy)) })\n    output$p2 <- renderPlot({ hist(rnorm(1000), main = sprintf(\"Plot 2 (%d,%d)\", cx, cy)) })\n    output$p3 <- renderPlot({ boxplot(rnorm(200), main = sprintf(\"Plot 3 (%d,%d)\", cx, cy)) })\n  })\n}\n\n# Wrap in shinyAppDir for ShinyLive\n# shinylive::shinyAppDir(ui, server)\n# shinylive::run_app(\"matrix_app.R\")\n# shinylive::run_app(shinyApp(ui, server))\n# shinylive::export(appdir = \"myapp\", destdir = \".\")\n\n","type":"text"}]
